<html>
<head>
  <title>Asteroid HTML</title>

</head>
<body>

  <canvas id="canvasId" width="1000" height="500" style="bolder: 1px solid blue;">

  </canvas>


<div id="textPage"></div>
<canvas id="ground" width="1000" height="100"></canvas>
  <script>

  var canvas = document.getElementById("canvasId");
  var ctx = canvas.getContext("2d");

let Asteroid= function(mapX,mapY,DeltaXSpeed,Radius,name){
	let Name=name;
	let X=mapX;
	let Y=mapY;
	let Move =function(){
		this.X+=DeltaXSpeed;
	}
	let ReturnMove =function(){
		this.X-=DeltaXSpeed;
	}
	return {X,Y,Move,ReturnMove,Radius,Name}
}
let asteroid0 = new Asteroid(50,80,9,70,"aster0");
let asteroid1 = new Asteroid(300,120,-9,70,"aster1");

let asteroid_ar =[asteroid0,asteroid1];

console.log("Test",asteroid_ar);
let Main = function() {
	//collision
	for(var item0 of asteroid_ar){
	
		for(var item1 of asteroid_ar){
			if(item0.Name!=item1.Name){
				item0.Move();
				var y1=0;
				var y2=0;
				var a = item0.X - item1.X;
				var b = item0.Y - item1.Y;

				var dist = Math.sqrt( a*a + b*b );
				console.log(item0.Name,"  Tes dist = ",dist  );
				let sumRadius  = item0.Radius + item1.Radius;
				
				if(dist<=sumRadius){
					//radius collision
					item0.ReturnMove();
				}
			}
		}
	}
	let widthRect = 1100;
	let heightRect = 600;
	//image
	ctx.clearRect(0, 0, widthRect, heightRect);
	ctx.fillStyle = "red";
	ctx.fillRect(0, 0, widthRect, heightRect);
	for(var item0 of asteroid_ar){
		
		console.log("Tes ", item0.X);
		ctx.beginPath();
		ctx.arc(item0.X, item0.Y, item0.Radius, 0, Math.PI * 2, true);
		ctx.stroke();	
	}
	
}
setInterval(Main,2000);

  </script>

</body>
</html>
